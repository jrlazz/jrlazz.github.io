<!DOCTYPE html>
<html lang="en">
<head>
<title>direct.html</title>
<meta charset="utf-8">
<link rel="shortcut icon" href="ok.ico" />
<style>
body{margin:0px;background-color:#048;color:#ff0;font-family:monospace;font-size:12pt;overflow:hidden;}
a{font-size:12pt;color:#0c0;text-decoration:none;}
</style>

<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

<script type="importmap">
	{
		"imports":{
			"three":"https://unpkg.com/three@0.160.0/build/three.module.js",
			"three/addons/":"https://unpkg.com/three@0.160.0/examples/jsm/"
		}
	}
</script>

</head>

<body>
<span id="sp1" style="position:absolute;left:5%;">AAA</span>
<button style="position:absolute;left:5%;top:5%;background-color:#c90;text-align:center;"><a id="code" href="direct.txt" target="_blank" style="color:#024;font-weight:bold;text-decoration:none;">The Code</a></button>

<script type="module">

import * as THREE from "three";
import { OrbitControls } from "three/addons/controls/OrbitControls.js";

var scene,camera,renderer,controls,light,lighthelper;
var w=0;
var iW=window.innerWidth;
var iH=window.innerHeight;

scene = new THREE.Scene();

camera = new THREE.PerspectiveCamera(70,iW/iH,1,1000);
camera.position.set(50,30,5);

renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setPixelRatio(window.devicePixelRatio);
renderer.setSize(iW,iH);
renderer.colorSpace=THREE.SRGBColorSpace;

document.body.appendChild(renderer.domElement);

controls = new OrbitControls(camera, renderer.domElement);

var g=new THREE.BoxGeometry(6,6,6);
var m=new THREE.MeshStandardMaterial({color:'#069',wireframe:false});
var mesh=new THREE.Mesh(g,m) ;
mesh.position.set(-10,10,10);
mesh.rotation.set(0,-1.5,0);
scene.add(mesh);

var g1=new THREE.BoxGeometry(6,6,6);
var m1=new THREE.MeshStandardMaterial({color:'#096',wireframe:false});
var mesh1=new THREE.Mesh(g1,m1) ;
mesh1.position.set(10,10,10);
mesh1.rotation.set(0,1,0);
scene.add(mesh1);

light=new THREE.DirectionalLight('#fff',10);
light.position.set(30,10,-20);
light.target=mesh;
scene.add(light);
lighthelper = new THREE.DirectionalLightHelper( light, 5 ); scene.add( lighthelper );

renderer.setAnimationLoop(() => {
	w++;
	document.getElementById("sp1").innerText=w;
	if(w<100){light.target=mesh;lighthelper.update();}
	if(w>100){light.target=mesh1;lighthelper.update();}
	if(w>200){w=0;}
	controls.update();
	renderer.render(scene, camera);
});

</script>

</body>
</html>
