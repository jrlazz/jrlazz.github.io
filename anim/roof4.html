<!DOCTYPE html>
<html lang="en">
<head>
<title>roof4.html</title>
<meta charset="utf-8">

<link rel="icon" type="image/png" href="../img/github-mark.png">
<meta name="description" content="Roof4">
<meta name="twitter:image" content="img/ag_baboy_right.png" />
<meta name="twitter:image:type" content="png" />
<meta name="twitter:image:width" content="19" />
<meta name="twitter:image:height" content="47" />

<style>
body{overflow:hidden;margin:0px;background-color:#048;font-family:Monospace;}
span{position:absolute;font-size:41px;}
a{font-size:14pt;}
</style>

<script type="importmap">
	{
		"imports":{
	"three":"https://unpkg.com/three@0.181.0/build/three.module.js",
	"three/addons/":"https://unpkg.com/three@0.181.0/examples/jsm/"
		}
	}
</script>

</head>

<body>
<span style="left:80%;top:5%;color:#ff0;">Roof4</span>
<button style="position:absolute;left:80%;top:25%;width:120px;height:30px;background-color:#fc0;text-align:center;border:4px outset white;"><a id="code" href="roof4.txt" target="_blank" style="color:#024;text-decoration:none;">The Code</a></button>

<script type="module">

import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

var renderer, scene, camera, controls ;

var iW=window.innerWidth;
var iH=window.innerHeight;

var geo=[];
var luz=[];
var mat=[];
var mesh=[];

var axe=[];for(let z=1;z<100;z++){axe[z]=new THREE.AxesHelper(1);}

var gro=[];for(let z=1;z<100;z++){gro[z]=new THREE.Group();}

var gru1=new THREE.Group();
var gru2=new THREE.Group();

var sim=0;
var p=Math.PI;

function init(){
	camera=new THREE.PerspectiveCamera(70,iW/iH,1,1000,1);
	camera.position.set(-20,20,30);
	scene=new THREE.Scene();
	scene.position.set(0,10,0);
	renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
	renderer.setPixelRatio(window.devicePixelRatio);
	renderer.setSize(iW,iH);
	renderer.colorSpace=THREE.SRGBColorSpace;
	document.body.appendChild(renderer.domElement);
	controls=new OrbitControls(camera,renderer.domElement);
	luz[1]=new THREE.AmbientLight("#fff",1);scene.add(luz[1]);

mat[7]=new THREE.MeshStandardMaterial({color:'#f60',side:THREE.DoubleSide});
mat[20]=new THREE.MeshStandardMaterial({color:'#ccc',wireframe:false});
mat[21]=new THREE.MeshStandardMaterial({color:'#000',wireframe:true});
var materials=[new THREE.MeshStandardMaterial({color:0xff0000,flatShading:true}),new THREE.MeshStandardMaterial({color:0x000ff,flatShading:true})];
const shape = new THREE.Shape();

shape.moveTo(- 12, - 6.2);
shape.lineTo(+ 12, - 6.2);
shape.lineTo(0   , + 6.2);

geo[1]= new THREE.ShapeGeometry(shape);
mesh[1]=new THREE.Mesh(geo[1],mat[7]) 
mesh[1].position.set(0,0,0);
mesh[1].rotation.set(p/4,0,0);

axe[1].add(mesh[1]);
scene.add(axe[1]);

mesh[2]=mesh[1].clone();
axe[2].add(mesh[2]);
axe[2].position.set(0,0,8.5);
axe[2].rotation.set(-p/2,0,0);
scene.add(axe[2]);


mesh[3]=mesh[1].clone();
axe[3].add(mesh[3]);
axe[3].scale.set(0.74,1.4,1);
axe[3].position.set(6.0,0,4.3);
axe[3].rotation.set(-p/2,0,p/2);
scene.add(axe[3]);

mesh[4]=mesh[1].clone();
axe[4].add(mesh[4]);
axe[4].scale.set(0.74,1.4,1);
axe[4].position.set(-6.0,0,4.3);
axe[4].rotation.set(-p/2,0,-p/2);
scene.add(axe[4]);


geo[20]=new THREE.BoxGeometry(22,15,13);
mesh[20]=new THREE.Mesh(geo[20],mat[20]);
mesh[20].position.set(0,-11.5,4);
scene.add(mesh[20]);

geo[21]=new THREE.BoxGeometry(22,15,13);
mesh[21]=new THREE.Mesh(geo[21],mat[21]);
mesh[21].position.set(0,-11.5,4);
scene.add(mesh[21]);

}

function animate(){
	requestAnimationFrame(animate);
	if(mesh[1] && sim==0){sim=1;}
	renderer.render(scene,camera);
}

init();
animate();

</script>
</body>
</html>

